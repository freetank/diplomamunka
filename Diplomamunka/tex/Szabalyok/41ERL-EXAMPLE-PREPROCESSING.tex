\begin{greyBox}

\begin{kblock}

\krule{
    \reduce
      {{\variable[FunDefs]{F}{user}}\terminal{$---$}{\variable[Exp]{E}{user}}\terminal{.}}
      {\variable[FunDefs]{F}{user}\kra\variable[Exp]{E}{user}}
  }
  {}{}{\kattribute{structural}}{}
%
\krule{
    \reduce
      {{\variable[FunCl]{F1}{user}}\mathrel{}{\variable[FunDefs]{F2}{user}}}
      {\variable[FunCl]{F1}{user}\kra\variable[FunDefs]{F2}{user}}
  }
  {}{}{\kattribute{structural}}{}
%
\kruleReqInBox{
    \kprefix{\K_COLOR}{k}{
      \reduce
        {{\variable[Atom]{Name}{user}}({\variable[]{Args}{}}){}\terminal{->}{\variable[]{Body}{}}\terminal{.}}
        {\dotCt{K}}
    }
    \newline
    \mathrel{}
    \kall{\DEFS_COLOR}{defs}{
      {\variable[Map]{{\rho}}{user}}\mathrel{}{
      \reduce
        {\dotCt{Map}}
        {{\variable[Atom]{Name}{user}}\mapsto{{}\terminal{ListItem}({{\{{\variable[]{Args}{}}\}}\terminal{->}{\variable[]{Body}{}}})}}
      }
    }
  }
  {\neg_{\scriptstyle\it Bool}{{\variable[Atom]{Name}{user}}\terminal{in}{{}\terminal{keys}({\variable[Map]{{\rho}}{}})}}}{}{\kattribute{structural}}{}
%
\kruleReqInBox{
    \kprefix{\K_COLOR}{k}{
      \reduce
        {{\variable[Atom]{Name}{user}}({\variable[]{Args}{}}){}\terminal{->}{\variable[]{Body}{}}\terminal{;}}
        {\dotCt{K}}
    }
    \newline
    \mathrel{}
    \kall{\DEFS_COLOR}{defs}{
      {\variable[Map]{{\rho}}{user}}\mathrel{}{
      \reduce
        {\dotCt{Map}}
        {{\variable[Atom]{Name}{user}}\mapsto{{}\terminal{ListItem}({{\{{\variable[]{Args}{}}\}}\terminal{->}{\variable[]{Body}{}}})}}
      }
    }
  }
  {\neg_{\scriptstyle\it Bool}{{\variable[Atom]{Name}{user}}\terminal{in}{{}\terminal{keys}({\variable[Map]{{\rho}}{}})}}}{}{\kattribute{structural}}{}
%
\kruleReqInBox{
    \kprefix{\K_COLOR}{k}{
      \reduce
        {{\variable[Atom]{Name}{user}}({\variable[]{Args}{}}){}\terminal{->}{\variable[]{Body}{}}\terminal{.}}
        {\dotCt{K}}
    }
    \newline
    \mathrel{}
    \kmiddle{\DEFS_COLOR}{defs}{
      {\variable[Atom]{Name}{user}}\mapsto{
      \reduce
        {\variable[]{Bodies}{}}
        {{\variable[]{Bodies}{}}\mathrel{}{{}\terminal{ListItem}({{\{{\variable[]{Args}{}}\}}\terminal{->}{\variable[]{Body}{}}})}}
      }
    }
  }
  {}{}{\kattribute{structural}}{}
%
\kruleReqInBox{
    \kprefix{\K_COLOR}{k}{
      \reduce
        {{\variable[Atom]{Name}{user}}({\variable[]{Args}{}}){}\terminal{->}{\variable[]{Body}{}}\terminal{;}}
        {\dotCt{K}}
    }
    \newline
    \mathrel{}
    \kmiddle{\DEFS_COLOR}{defs}{
      {\variable[Atom]{Name}{user}}\mapsto{
      \reduce
        {\variable[]{Bodies}{}}
        {{\variable[]{Bodies}{}}\mathrel{}{{}\terminal{ListItem}({{\{{\variable[]{Args}{}}\}}\terminal{->}{\variable[]{Body}{}}})}}
      }
    }
  }
  {}{}{\kattribute{structural}}{}

\end{kblock}

\end{greyBox}